# 链接脚本（Linker Script, LS）

`.ld` 文件使用的是**链接器脚本语言（Linker Script Language）**，这是一种专门为链接器（如 GNU `ld`）设计的领域特定语言（DSL），用于描述程序的内存布局和段（Section）分配规则。

## **内存区域定义（MEMORY）**

用 `MEMORY` 块声明不同的内存区域（如 ROM、RAM），指定起始地址（ORIGIN）和大小（LENGTH）。

```less
MEMORY {
  flash (rx)  : ORIGIN = 0x08000000, LENGTH = 512K
  ram   (rwx) : ORIGIN = 0x20000000, LENGTH = 128K
}
```

## **段分配（SECTIONS）**

用 `SECTIONS` 块定义目标文件中的段（如 `.text`、`.data`）如何映射到 `MEMORY` 中声明的内存区域。

```less
SECTIONS {
  .text : { *(.text) } > flash  # 所有代码段放入 flash 区域
  .data : { *(.data) } > ram    # 初始化数据放入 ram 区域
}
```

## **符号定义**

可自定义符号（如内存边界、入口点），供代码中引用。

```less
ENTRY(_start)  # 定义程序入口点为 _start 符号
__heap_start = .;  # 定义堆起始地址为当前位置
```

